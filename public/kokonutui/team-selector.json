{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "team-selector",
  "type": "registry:component",
  "dependencies": [
    "motion",
    "next"
  ],
  "files": [
    {
      "type": "registry:component",
      "target": "components/kokonutui/team-selector.tsx",
      "content": "\"use client\";\n\n/**\n * @author: @dorian_baffier\n * @description: Team Selector\n * @version: 1.0.0\n * @date: 2025-06-26\n * @license: MIT\n * @website: https://kokonutui.com\n * @github: https://github.com/kokonut-labs/kokonutui\n */\n\nimport { AnimatePresence, motion, type Variants } from \"motion/react\";\nimport Image from \"next/image\";\nimport { useState } from \"react\";\n\nconst MAX_TEAM_SIZE = 4;\n\ninterface TeamMember {\n    id: string;\n    avatarUrl: string;\n    name: string;\n}\n\nconst TEAM_MEMBERS: TeamMember[] = [\n    {\n        id: \"member-1\",\n        avatarUrl:\n            \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/avatar-01-n0x8HFv8EUetf9z6ht0wScJKoTHqf8.png\",\n        name: \"Team Member 1\",\n    },\n    {\n        id: \"member-2\",\n        avatarUrl:\n            \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/avatar-02-albo9B0tWOSLXCVZh9rX9KFxXIVWMr.png\",\n        name: \"Team Member 2\",\n    },\n    {\n        id: \"member-3\",\n        avatarUrl:\n            \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/avatar-03-JateJIUhtd3PXynaMG9TDWQ55j5AVP.png\",\n        name: \"Team Member 3\",\n    },\n    {\n        id: \"member-4\",\n        avatarUrl:\n            \"https://ferf1mheo22r9ira.public.blob.vercel-storage.com/avatar-04-uuYHWIRvVPi01gEt6NwnGyjqLeeZhz.png\",\n        name: \"Team Member 4\",\n    },\n] as const;\n\nconst animations = {\n    container: {\n        initial: { opacity: 0, y: 20 },\n        animate: { opacity: 1, y: 0 },\n        exit: { opacity: 0, y: -20 },\n    } satisfies Variants,\n    avatar: {\n        initial: { opacity: 0, scale: 0.8 },\n        animate: {\n            opacity: 1,\n            scale: 1,\n            transition: { duration: 0.3 },\n        },\n        exit: {\n            opacity: 0,\n            scale: 0.8,\n            transition: { duration: 0.15 },\n        },\n    } satisfies Variants,\n    vibration: {\n        initial: { x: 0 },\n        animate: {\n            x: [-5, 5, -5, 5, 0] as const,\n            transition: { duration: 0.3 },\n        },\n    } satisfies Variants,\n    number: {\n        initial: { scale: 0.8, opacity: 0 },\n        animate: {\n            scale: 1,\n            opacity: 1,\n            transition: {\n                type: \"spring\",\n                stiffness: 400,\n                damping: 25,\n            },\n        },\n    } satisfies Variants,\n} as const;\n\ninterface TeamSelectorProps {\n    defaultValue?: number;\n    onChange?: (size: number) => void;\n    className?: string;\n}\n\nexport default function TeamSelector({\n    defaultValue = 1,\n    onChange,\n    className = \"\",\n}: TeamSelectorProps) {\n    const [peopleCount, setPeopleCount] = useState(defaultValue);\n    const [isVibrating, setIsVibrating] = useState(false);\n\n    const handleIncrement = (e: React.MouseEvent | React.KeyboardEvent) => {\n        e.preventDefault();\n        if (peopleCount < MAX_TEAM_SIZE) {\n            const newCount = peopleCount + 1;\n            setPeopleCount(newCount);\n            onChange?.(newCount);\n        } else {\n            triggerVibration();\n        }\n    };\n\n    const handleDecrement = (e: React.MouseEvent | React.KeyboardEvent) => {\n        e.preventDefault();\n        if (peopleCount > 1) {\n            const newCount = peopleCount - 1;\n            setPeopleCount(newCount);\n            onChange?.(newCount);\n        } else {\n            triggerVibration();\n        }\n    };\n\n    const triggerVibration = () => {\n        setIsVibrating(true);\n        setTimeout(() => setIsVibrating(false), 300);\n    };\n\n    const handleKeyDown = (\n        e: React.KeyboardEvent,\n        action: \"increment\" | \"decrement\"\n    ) => {\n        if (e.key === \"Enter\" || e.key === \" \") {\n            e.preventDefault();\n            action === \"increment\" ? handleIncrement(e) : handleDecrement(e);\n        }\n    };\n\n    const renderAvatars = () =>\n        TEAM_MEMBERS.slice(0, peopleCount).map((member, index) => (\n            <motion.div\n                key={member.id}\n                variants={animations.avatar}\n                initial=\"initial\"\n                animate=\"animate\"\n                exit=\"exit\"\n                className=\"flex items-center justify-center\"\n                style={{\n                    zIndex: peopleCount - index,\n                    marginLeft: index === 0 ? 0 : -24,\n                }}\n            >\n                <Image\n                    src={member.avatarUrl}\n                    width={96}\n                    height={96}\n                    alt={member.name}\n                    className=\"rounded-full object-cover \n                             shadow-[0_8px_28px_-6px/0.2] dark:shadow-[0_8px_28px_-6px/0.3]\n                             bg-gradient-to-b from-white/5 to-white/20 dark:from-white/5 dark:to-black/20\n                             backdrop-blur-sm\n                            hover:shadow-[0_12px_32px_-8px/0.3] dark:hover:shadow-[0_12px_32px_-8px/0.4]\n                             transition-all duration-300 ease-fluid\n                             border-[0.5px] border-white/10 dark:border-white/5\"\n                />\n            </motion.div>\n        ));\n\n    return (\n        <motion.div\n            variants={animations.container}\n            initial=\"initial\"\n            animate=\"animate\"\n            exit=\"exit\"\n            className={`flex w-full flex-col items-center justify-center gap-8 ${className}`}\n        >\n            <fieldset className=\"w-full\">\n                <legend className=\"sr-only\">Team size selector</legend>\n                <div className=\"relative h-24 w-full flex justify-center\">\n                    <AnimatePresence mode=\"popLayout\">\n                        {renderAvatars()}\n                    </AnimatePresence>\n                </div>\n\n                <motion.div\n                    variants={isVibrating ? animations.vibration : undefined}\n                    initial=\"initial\"\n                    animate={isVibrating ? \"animate\" : \"initial\"}\n                    className=\"flex items-center justify-center gap-8 mt-8\"\n                >\n                    <button\n                        type=\"button\"\n                        onClick={handleDecrement}\n                        onKeyDown={(e) => handleKeyDown(e, \"decrement\")}\n                        disabled={peopleCount <= 1}\n                        aria-label=\"Decrease team size\"\n                        className=\"h-12 w-12 rounded-full \n                                 bg-gradient-to-b from-white to-zinc-50 dark:from-zinc-800 dark:to-zinc-900\n                                 border border-zinc-200/80 dark:border-zinc-700/80\n                                 shadow-[0_2px_8px_-2px/0.1] dark:shadow-[0_2px_8px_-2px/0.3]\n                                 hover:shadow-[0_4px_12px_-4px/0.2] dark:hover:shadow-[0_4px_12px_-4px/0.4]\n                                 hover:border-zinc-300 dark:hover:border-zinc-600\n                                 active:from-zinc-50 active:to-zinc-100 dark:active:from-zinc-900 dark:active:to-zinc-800\n                                 text-zinc-900 dark:text-zinc-100 \n                                 disabled:opacity-40 disabled:cursor-not-allowed \n                                 disabled:hover:shadow-[0_2px_8px_-2px/0.1] dark:disabled:hover:shadow-[0_2px_8px_-2px/0.3]\n                                 disabled:hover:border-zinc-200/80 dark:disabled:hover:border-zinc-700/80\n                                 disabled:active:from-white disabled:active:to-zinc-50 \n                                 dark:disabled:active:from-zinc-800 dark:disabled:active:to-zinc-900\n                                 transition-all duration-200 ease-fluid\n                                 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500/30 dark:focus-visible:ring-zinc-400/30\n                                 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-zinc-900\"\n                    >\n                        <span className=\"text-2xl font-medium select-none\">\n                            -\n                        </span>\n                    </button>\n\n                    <motion.output\n                        key={peopleCount}\n                        variants={animations.number}\n                        initial=\"initial\"\n                        animate=\"animate\"\n                        className=\"text-2xl font-medium bg-clip-text text-transparent \n                                 bg-gradient-to-b from-zinc-800 to-zinc-600 dark:from-zinc-200 dark:to-zinc-400\n                                 select-none\"\n                        aria-label={`Current team size: ${peopleCount}`}\n                    >\n                        {peopleCount}\n                    </motion.output>\n\n                    <button\n                        type=\"button\"\n                        onClick={handleIncrement}\n                        onKeyDown={(e) => handleKeyDown(e, \"increment\")}\n                        disabled={peopleCount >= MAX_TEAM_SIZE}\n                        aria-label=\"Increase team size\"\n                        className=\"h-12 w-12 rounded-full \n                                 bg-gradient-to-b from-white to-zinc-50 dark:from-zinc-800 dark:to-zinc-900\n                                 border border-zinc-200/80 dark:border-zinc-700/80\n                                 shadow-[0_2px_8px_-2px/0.1] dark:shadow-[0_2px_8px_-2px/0.3]\n                                 hover:shadow-[0_4px_12px_-4px/0.2] dark:hover:shadow-[0_4px_12px_-4px/0.4]\n                                 hover:border-zinc-300 dark:hover:border-zinc-600\n                                 active:from-zinc-50 active:to-zinc-100 dark:active:from-zinc-900 dark:active:to-zinc-800\n                                 text-zinc-900 dark:text-zinc-100 \n                                 disabled:opacity-40 disabled:cursor-not-allowed \n                                 disabled:hover:shadow-[0_2px_8px_-2px/0.1] dark:disabled:hover:shadow-[0_2px_8px_-2px/0.3]\n                                 disabled:hover:border-zinc-200/80 dark:disabled:hover:border-zinc-700/80\n                                 disabled:active:from-white disabled:active:to-zinc-50 \n                                 dark:disabled:active:from-zinc-800 dark:disabled:active:to-zinc-900\n                                 transition-all duration-200 ease-fluid\n                                 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500/30 dark:focus-visible:ring-zinc-400/30\n                                 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-zinc-900\"\n                    >\n                        <span className=\"text-2xl font-medium select-none\">\n                            +\n                        </span>\n                    </button>\n                </motion.div>\n            </fieldset>\n        </motion.div>\n    );\n}\n",
      "path": "components/kokonutui/team-selector.tsx"
    }
  ]
}
